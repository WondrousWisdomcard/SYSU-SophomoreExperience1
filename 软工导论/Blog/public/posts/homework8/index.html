<!DOCTYPE html>
<html><head>
<title>Homework of Week 8</title>




<meta charset="utf-8">
<meta name="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<meta content="telephone=no" name="format-detection">
<meta name="description" content="">
<meta name="renderer" content="webkit">
<meta name="theme-color" content="#ffffff">



<meta property="og:title" content="Homework of Week 8" />
<meta property="og:description" content="1、阅读 PseudocodeStandard。 1）用伪代码描述将十进制转换成16进制的方法 void octToHex(十进制数 num,十六进制存储数组 hex[10]){if num为负数 取num的绝对值;将hex数组的首字符置为负号;endifindex指向数组最后一位;while 若num大于零t = num对16取模;if t大于9hex[index] = (t-10) &#43; &#39;A&#39;;endifelsehex[index] = t &#43; &#39;0&#39;;end elseindex指向当前index的前一位;num = num/16得到的余数end while}void showHex(int num){// 对hex赋初始值为{0,0,0,0,0,0,0,0,&#39;0&#39;,0}// 调用octToHex(num,hex);// 遍历数组，输出非空字符;} 2）C语言实现（先用注释写好算法，然后翻译） void octToHex(int num,char hex[10]){if(num &lt; 0){num = -num;hex[0] = &#39;-&#39;;}int i = 8;while(num !" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://wondrouswisdomcard.gitee.io/posts/homework8/" />
<meta property="article:published_time" content="2020-10-20T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-10-20T00:00:00+00:00" /><meta property="og:site_name" content="My Blog" />





<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Homework of Week 8"/>
<meta name="twitter:description" content="1、阅读 PseudocodeStandard。 1）用伪代码描述将十进制转换成16进制的方法 void octToHex(十进制数 num,十六进制存储数组 hex[10]){if num为负数 取num的绝对值;将hex数组的首字符置为负号;endifindex指向数组最后一位;while 若num大于零t = num对16取模;if t大于9hex[index] = (t-10) &#43; &#39;A&#39;;endifelsehex[index] = t &#43; &#39;0&#39;;end elseindex指向当前index的前一位;num = num/16得到的余数end while}void showHex(int num){// 对hex赋初始值为{0,0,0,0,0,0,0,0,&#39;0&#39;,0}// 调用octToHex(num,hex);// 遍历数组，输出非空字符;} 2）C语言实现（先用注释写好算法，然后翻译） void octToHex(int num,char hex[10]){if(num &lt; 0){num = -num;hex[0] = &#39;-&#39;;}int i = 8;while(num !"/>







<script src="/vendor/js/jquery.min.js" ></script>
<script src="/vendor/js/popper.min.js" ></script>
<script src="/vendor/js/bootstrap.min.js" ></script>
<script src="/vendor/js/smooth-scroll.polyfills.min.js" ></script>
<link type="text/css" rel="stylesheet" href="/vendor/css/bootstrap.min.css">
<script src="/vendor/js/vue.min.js" ></script>






<link rel="stylesheet" href="https://wondrouswisdomcard.gitee.io/scss/journal.min.c116bc90d171283f099f173854157ec8f183f9073b93443b2c8ad82899ee9025.css" integrity="sha256-wRa8kNFxKD8Jnxc4VBV&#43;yPGD&#43;Qc7k0Q7LIrYKJnukCU=" media="screen">



<link rel="stylesheet" href="https://wondrouswisdomcard.gitee.io/scss/dark-mode.min.552aae4638a84aa57cf0b195750a49ea9131d3bb621d1ed3ebc9b14b18166536.css" integrity="sha256-VSquRjioSqV88LGVdQpJ6pEx07tiHR7T68mxSxgWZTY=" media="screen">


<script src="https://wondrouswisdomcard.gitee.io/js/loadCSS.js"></script>
<script>
  loadCSS("https://fonts.googleapis.com/css?family=Lora|Montserrat|Fira+Mono|Noto+Serif+SC|Material+Icons");
</script>




  
    <script src="https://wondrouswisdomcard.gitee.io/js/toc-collapse.js"></script>
  



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="/vendor/js/md5.min.js"></script>
<script>
  var gitalk = new Gitalk({
  clientID: 'your client id',
  clientSecret: 'your client secret',
  repo: 'repo name',
  owner: 'user',
  admin: ['user'],
  id: md5(location.pathname),
  distractionFreeMode: 'false'
  });
  window.onload = function () {
        gitalk.render('gitalk-container')
  }
</script>







<script src="https://cdn.jsdelivr.net/npm/vue-disqus@3/dist/vue-disqus.js"></script>


</head>
<body>
    	<div id="app"><div ref="sideContainer" class="side-container">
    
    <a class="a-block nav-head false" href="https://wondrouswisdomcard.gitee.io">
    
        <div class="nav-title">
            Wondrous WindomCard&#39;s Blog
        </div>
        
        <div class="nav-subtitle">
            Themed by Diary.
        </div>
        
    </a>

    <div class="nav-link-list">
        
        
            
            
            
                
            
            
            
            <a class="a-block nav-link-item active" href="/posts">
                Archive
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/categories">
                Categories
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/tags">
                Tags
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/index.xml">
                RSS Feed
            </a>
            
        
    </div>

    

    <div class="nav-footer">
        
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
Ported from <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	This is a customized copyright.
	

    </div>
    
</div><div ref="extraContainer" class="extra-container">
    
    
    <div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }">


	<div class="toc-content">
	
		
		
		
		<center>- CATALOG -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
							
								<ul class="collapse" data-toggle="collapse">
							
								<ul class="collapse" data-toggle="collapse">
							
						
						
							<li>
								<a href="#1%e9%98%85%e8%af%bb-pseudocodestandard" onclick="onNavClick(`#1阅读-pseudocodestandard-nav`)" id="1阅读-pseudocodestandard-nav">
									1、阅读 PseudocodeStandard。
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#2%e5%90%8d%e8%af%8d%e8%a7%a3%e9%87%8a%e4%b8%8e%e5%af%b9%e6%af%94-from-wekipedia" onclick="onNavClick(`#2名词解释与对比-from-wekipedia-nav`)" id="2名词解释与对比-from-wekipedia-nav">
									2、名词解释与对比 from Wekipedia
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#3-%e4%bb%94%e7%bb%86%e8%a7%82%e5%af%9f%e6%82%a8%e6%b4%97%e8%a1%a3%e6%9c%ba%e7%9a%84%e8%bf%90%e4%bd%9c%e8%bf%87%e7%a8%8b%e8%bf%90%e7%94%a8top-down%e8%ae%be%e8%ae%a1%e6%96%b9%e6%b3%95%e5%92%8cpseudocode-%e6%8f%8f%e8%bf%b0%e6%b4%97%e8%a1%a3%e6%9c%ba%e6%8e%a7%e5%88%b6%e7%a8%8b%e5%ba%8f" onclick="onNavClick(`#3-仔细观察您洗衣机的运作过程运用top-down设计方法和pseudocode-描述洗衣机控制程序-nav`)" id="3-仔细观察您洗衣机的运作过程运用top-down设计方法和pseudocode-描述洗衣机控制程序-nav">
									3. 仔细观察您洗衣机的运作过程，运用Top-down设计方法和Pseudocode 描述洗衣机控制程序。
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
    
    <div class="pagination">
        <a id="globalBackToTop" class="pagination-action animated-visibility" href="#top" :class="{ invisible: scrollY == 0 }">
            <i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
        </a>
        
        <a class="pagination-action" v-on:click="toggleDarkMode">
            <i class="material-icons pagination-action-icon" v-if="isDarkMode">
                brightness_4
            </i>
            <i class="material-icons pagination-action-icon" v-else="isDarkMode">
                brightness_7
            </i>
        </a>
        
        
    </div>
</div>
<div class="single-column-drawer-container" ref="drawer"
     v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
    <div class="drawer-content">
        <div class="drawer-menu">
            
            
            
                
                
                
                    
                
                
                
                <a class="a-block drawer-menu-item active" href="/posts">
                    Archive
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/categories">
                    Categories
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/tags">
                    Tags
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/index.xml">
                    RSS Feed
                </a>
                
            
            
            <div class="toc">


	<div class="toc-content">
	
		
		
		
		<center>- CATALOG -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
							
								<ul class="collapse" data-toggle="collapse">
							
								<ul class="collapse" data-toggle="collapse">
							
						
						
							<li>
								<a href="#1%e9%98%85%e8%af%bb-pseudocodestandard" onclick="onNavClick(`#1阅读-pseudocodestandard-nav`)" id="1阅读-pseudocodestandard-nav">
									1、阅读 PseudocodeStandard。
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#2%e5%90%8d%e8%af%8d%e8%a7%a3%e9%87%8a%e4%b8%8e%e5%af%b9%e6%af%94-from-wekipedia" onclick="onNavClick(`#2名词解释与对比-from-wekipedia-nav`)" id="2名词解释与对比-from-wekipedia-nav">
									2、名词解释与对比 from Wekipedia
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#3-%e4%bb%94%e7%bb%86%e8%a7%82%e5%af%9f%e6%82%a8%e6%b4%97%e8%a1%a3%e6%9c%ba%e7%9a%84%e8%bf%90%e4%bd%9c%e8%bf%87%e7%a8%8b%e8%bf%90%e7%94%a8top-down%e8%ae%be%e8%ae%a1%e6%96%b9%e6%b3%95%e5%92%8cpseudocode-%e6%8f%8f%e8%bf%b0%e6%b4%97%e8%a1%a3%e6%9c%ba%e6%8e%a7%e5%88%b6%e7%a8%8b%e5%ba%8f" onclick="onNavClick(`#3-仔细观察您洗衣机的运作过程运用top-down设计方法和pseudocode-描述洗衣机控制程序-nav`)" id="3-仔细观察您洗衣机的运作过程运用top-down设计方法和pseudocode-描述洗衣机控制程序-nav">
									3. 仔细观察您洗衣机的运作过程，运用Top-down设计方法和Pseudocode 描述洗衣机控制程序。
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
            
        </div>
    </div>
</div>
<transition name="fade">
    <div v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav ref="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div ref="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" v-on:click="toggleDrawer">
            <i class="material-icons">
                menu
            </i>
        </button>
        <a ref="navTitle" class="navbar-brand" href="https://wondrouswisdomcard.gitee.io">
            Wondrous WindomCard&#39;s Blog
        </a>
        
        <button type="button" class="nav-darkmode-toggle" v-on:click="toggleDarkMode">
            <i class="material-icons" v-if="isDarkMode">
                brightness_4
            </i>
            <i class="material-icons" v-else="isDarkMode">
                brightness_7
            </i>
        </button>
        
    </div>
</nav>
<div class="single-column-header-container" ref="pageHead"
     v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
    <a href="https://wondrouswisdomcard.gitee.io">
        <div class="single-column-header-title">Wondrous WindomCard&#39;s Blog</div>
        
        <div class="single-column-header-subtitle">Themed by Diary.</div>
        

    </a>
</div>

            <div id="content">
<div ref="streamContainer" class="stream-container">
    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            
            
            

            <div class="post-head-wrapper-text-only"
                
            >
                <div class="post-title">
                    Homework of Week 8
                    
                    <div class="post-meta">
                        
                        <time itemprop="datePublished">
                            2020-10-20 00:00
                        </time>
                        

                        
                            <i class="material-icons" style="">folder</i>
                                <a href="/categories/">[Homework]</a>
                                &nbsp;
                        

                        
                            <i class="material-icons" style="">label</i>
                            
                                <a href="/tags/top-down-design">Top-down design</a>
                                &nbsp;
                            
                                <a href="/tags/work-breakdown-structure">Work breakdown structure</a>
                                &nbsp;
                            
                        
                        
                    </div>
                </div>
            </div>
            
            <div class="post-body-wrapper">
                
                <div class="post-body" v-pre>
                
                    <h3 id="1阅读-pseudocodestandard">1、阅读 PseudocodeStandard。</h3>
<h5 id="1用伪代码描述将十进制转换成16进制的方法">1）用伪代码描述将十进制转换成16进制的方法</h5>
<pre><code>void octToHex(十进制数 num,十六进制存储数组 hex[10])
{
    if num为负数  
        取num的绝对值;
        将hex数组的首字符置为负号;
    endif
    index指向数组最后一位;
    while 若num大于零
        t = num对16取模;
        if t大于9
            hex[index] = (t-10) + 'A';
        endif
        else
            hex[index] = t + '0';
        end else
        index指向当前index的前一位;
        num = num/16得到的余数
    end while
}
void showHex(int num)
{
    // 对hex赋初始值为{0,0,0,0,0,0,0,0,'0',0}
    // 调用octToHex(num,hex);
    // 遍历数组，输出非空字符;
}
</code></pre>
<h5 id="2c语言实现先用注释写好算法然后翻译">2）C语言实现（先用注释写好算法，然后翻译）</h5>
<pre><code>void octToHex(int num,char hex[10])
{
    if(num &lt; 0)
    {
        num = -num;
        hex[0] = '-';
    }
    int i = 8;
    while(num != 0)
    {
        int t = num % 16;
        hex[i--] = t &gt; 9 ? t % 10 + 'A' : t + '0';
        num /= 16;
    }
}
void showHex(int num)
{
    char hex[10] = {0,0,0,0,0,0,0,0,'0',0};
    octToHex(num,hex);
    for(int i = 0 ; i &lt; 10; i++) //遍历数组，输出非空字符
    {
        if(hex[i] != 0)
        printf(&quot;%c&quot;,hex[i]);
    }
    printf(&quot;\n&quot;);
}
</code></pre>
<h5 id="3使用--10115263265-最为输入测试你的程序">3）使用 -1,0,1,15,26,3265 最为输入测试你的程序</h5>
<pre><code>showHex(-1); // output: -1
showHex(0); // output: 0
showHex(1); // output: 1 
showHex(15); // output: F
showHex(26); // output: 1A
showHex(3265); // output: CC1
</code></pre>
<hr>
<h3 id="2名词解释与对比-from-wekipedia">2、名词解释与对比 from Wekipedia</h3>
<h5 id="1top-down-design">1）Top-down design</h5>
<p>A design methodology that proceeds from the highest level to the lowest and from the general to the particular, and that provides a formal mechanism for breaking complex process designs into functional descriptions, reviewing progress, and allowing modifications.</p>
<h5 id="2-work-breakdown-structure-wbs">2） Work breakdown structure (WBS)</h5>
<p>A division of a project into tasks and subtasks. The tasks are numbered to indicate their relationship to each other. WBSs are indespensible for project planning, particularly when estimating time and resource requirements. Some industries use established work breakdown structure systems for billing and reporting purposes.</p>
<h5 id="3简述管理学wbs-与-信息学top-down设计-的异同">3）简述管理学WBS 与 信息学Top-down设计 的异同</h5>
<p>相同点：二者都是将一个复杂的问题细化，分成许多的子问题再解决；不同点：WBS是一个描述思路的规划和设计工具，它还可以帮助项目经理和项目团队确定和有效地管理项目的工作：清晰地表示各项目工作之间的相互联系，展现项目全貌，详细说明为完成项目所必须完成的各项工作，WBS定义了里程碑事件，可以向高级管理层和客户报告项目完成情况，作为项目状况的报告工具。而Top-down design对要完成的任务进行分解，先对最高层次中的问题进行定义、设计、编程和测试，而将其中未解决的问题作为一个子任务放到下一层次中去解决。这样逐层、逐个地进行定义、设计、编程和测试，直到所有层次上的问题均由实用程序来解决，就能设计出具有层次结构的程序。最后会通过由顶层模块调用子模块来实现整体功能。</p>
<hr>
<h3 id="3-仔细观察您洗衣机的运作过程运用top-down设计方法和pseudocode-描述洗衣机控制程序">3. 仔细观察您洗衣机的运作过程，运用Top-down设计方法和Pseudocode 描述洗衣机控制程序。</h3>
<p>假设洗衣机可执行的基本操作如下：</p>
<pre><code>water_in_switch(open_close)  // open 打开上水开关，close关闭 
water_out_switch(open_close)  // open 打开排水开关，close关闭 
get_water_volume()  //返回洗衣机内部水的高度
motor_run(direction) // 电机转动。left左转，right右转，stop停 
time_counter()  // 返回当前时间计数，以秒为单位
halt(returncode) //停机，success 成功 failure 失败
</code></pre>
<h5 id="1请使用伪代码分解正常洗衣程序的大步骤包括注水浸泡等">1）请使用伪代码分解“正常洗衣”程序的大步骤。包括注水、浸泡等</h5>
<pre><code>start_up(); //开机
mode_selection(); //模式选择
get_water(num_of_mode); //注水
soak_clothes(num_of_mode); //浸泡
wash_clothes(num_of_mode); //洗衣
drain_away_water(); //排水
spin_dry(); //甩干
power_off(); //关机
</code></pre>
<h5 id="2进一步用基本操作控制语句ifforwhile等变量与表达式写出每-个步骤的伪代码">2）进一步用基本操作、控制语句（IF、FOR、WHILE等）、变量与表达式，写出每 个步骤的伪代码</h5>
<pre><code>start_up(open_close){

}
mode_selection(){
    get num_of_mode;
    return num_of_mode;
}
get_water(num_of_mode){
    switch(num_of_mode){
        case 1: target_volume_of_water = 2L;
        case 2: target_volume_of_water = 3L;
        case 3: target_volume_of_water = 4L;
    }
    water_in_switch(open);
    while(get_water_volume() &lt; target_water_volume);
    water_in_switch(close);
}
soak_clothes(num_of_mode){
    switch(num_of_mode){
        case 1: target_soak_time = 1min;
        case 2: target_soak_time = 2min;
        case 3: target_soak_time = 3min;
    }
    init time_counter();
    while(time_counter() &gt;= target_soak_time);
}
wash_clothes(num_of_mode){
    switch(num_of_mode){
        case 1: target_wash_time = 10min;
        case 2: target_wash_time = 15min;
        case 3: target_wash_time = 20min;
    }
    init time_counter;
    while(time_counter() &lt;= target_wash_time){
        if(time_counter() % 2 == 0)
        motor_run(left);
        else
        motor_run(right);
    }
    motor_run(stop);
}
drain_away_water(){
    water_out_switch(open);
    while(get_water_volume() &gt; 0);
    water_out_switch(close);
}
spin_dry(){
    switch(num_of_mode){
        case 1: target_dry_time = 4min;
        case 2: target_dry_time = 6min;
        case 3: target_dry_time = 8min;
    }
    init time_counter();
    motor_run(left);
    while(time_counter() &lt;= target_dry_time);
    motor_run(stop);
}
power_off(){
    halt(success);
}
</code></pre>
<h5 id="3根据你的实践请分析正常洗衣与快速洗衣在用户目标和程序上的异同-你认为是否存在改进创新空间简单说明你的改进意见">3）根据你的实践，请分析“正常洗衣”与“快速洗衣”在用户目标和程序上的异同。 你认为是否存在改进（创新）空间，简单说明你的改进意见？</h5>
<p>两者相同点在于都要经过接水，洗衣，排水，甩干这样的基本流程，不同点在于接水量和洗衣，排水，甩干时间。可以为用户设计多种洗衣模式，减少不必要的浪费并方便用户使用。</p>
<h5 id="4通过步骤3提取一些共性功能模块函数简化正常洗衣程序使程序-变得更利于人类理解和修改维护例如-waittime-等待指定的时间-注水volumetimeout-在指定时间内完成注水否则停机-排水timeout等子程序">4）通过步骤3），提取一些共性功能模块（函数），简化“正常洗衣”程序，使程序 变得更利于人类理解和修改维护。例如： wait(time) //等待指定的时间； 注水(volume,timeout) //在指定时间内完成注水，否则停机； 排水(timeout)等子程序</h5>
<pre><code>wait(time,method()){
    init time_counter();
    method(open);
    while(time_counter() &lt;= time);
    method(close);
}

get_water(volume,timeout){
    init time_counter();
    water_in_switch(open);
    while(get_water_volume() &lt; volume){
        if(time_counter &gt; time){
            water_in_switch(close);
            halt(failure);
        }
    }
}

drain_away_water(timeout){
    water_out_switch(open);
    init time_counter();
    while(get_water_volume() &gt; 0){
        if(time_counter &gt;= timeout){
            water_out_switch(close);
            halt(failure);
        }
    }
    water_out_switch(close);
}</code></pre>

                    
                    <HR width="100%" id="EOF">
		    <p style="color:#777;">Last modified on 2020-10-20</p>
                    
                </div>
            </div>
            
            
            <nav class="post-pagination">

                
                <a class="newer-posts" href="https://wondrouswisdomcard.gitee.io/posts/homework9/">
			Next<br>Homework of Week 9
                </a>
                
                
                
                <a class="older-posts" href="https://wondrouswisdomcard.gitee.io/posts/blog5/">
			Previous<br>Pseudocode of Washing Machine
                </a>
                
            </nav>
            <div class="post-comment-wrapper">
                
<div class="comments">
    <vue-disqus shortname="Your disqus short name."></vue-disqus>
</div>
<noscript><noscript>Please activate JavaScript to view comments.</noscript></noscript>
<a href="https://disqus.com/" class="dsq-brlink">Comments powered by <span class="logo-disqus">Disqus</span></a>



<div id="gitalk-container"></div>






            </div>
        </div>
    </div>
</div>

            </div><div id="single-column-footer">
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
Ported from <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	This is a customized copyright.
	
</div>
            </div>
    <script>
let app;

app = new Vue({
    el: '#app',
    data: {
        scrollY: 0,
        navOpacity: 0,
        isDrawerOpen: false,
        mounted: false,
        isDarkMode: false
    },
    methods: {
            sgn(t, x) {
                let k = 1. / (1. - 2 * t);
                if (x <= t) return 0;
                else if (x >= 1 - t) return 1;
                else {
                    return k * (x - t);
                }
            },
            handleScroll() {
                this.scrollY = window.scrollY;
                this.navOpacity = this.sgn(.0, Math.min(1, Math.max(0, window.scrollY / (this.pageHeadHeight() - this.navBarHeight() * 0.8))));
                const {navBar, navBackground, navTitle, extraContainer, streamContainer} = this.$refs;

                if (this.navOpacity >= 1) {
                    navBackground.style.opacity = 1;
                    navTitle.style.opacity = 1;
                } else {
                    navBackground.style.opacity = 0;
                    navTitle.style.opacity = 0;
                }
            },
            handleResize() {
                const {navBar, navBackground, navTitle, extraContainer, streamContainer} = this.$refs;
                extraContainer.style.left = (streamContainer.offsetWidth - extraContainer.offsetWidth) + 'px';
            },
            navBarHeight() {
                return this.$refs.navBar.offsetHeight;
            },
            pageHeadHeight() {
                return this.$refs.pageHead.offsetHeight;
            },
            toggleDrawer() {
                this.isDrawerOpen = !this.isDrawerOpen;
                document.getElementsByTagName('html')[0].style.overflow = this.isDrawerOpen ? 'hidden' : 'unset';
            },
            closeDrawer() {
                this.isDrawerOpen = false;
                document.getElementsByTagName('html')[0].style.overflow = this.isDrawerOpen ? 'hidden' : 'unset';
            },
            toggleDarkMode() {
                this.isDarkMode = !this.isDarkMode;
                if (this.isDarkMode==true){
                    document.cookie = "night=1;path=/";
                    document.body.classList.add("night");
                } else {
                    document.cookie = "night=0;path=/";
                    document.body.classList.remove("night");
                }
            }
    },
    created() {
        window.addEventListener('scroll', this.handleScroll);
        window.addEventListener('resize', this.handleResize);
        window._nonDesktop = function () {
            let check = false;
            (function (a) {
                if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) check = true;
            })(navigator.userAgent || navigator.vendor || window.opera);
            return check;
        };
        
        var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1");
        if (night==""){
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                
            }
        }else{
            
            if (night=="1") {
                this.toggleDarkMode();
            }
        }
    },
    mounted() {
        this.handleScroll();
        this.handleResize();
        this.mounted = true;

        
    },
    destroyed() {
        window.removeEventListener('scroll', this.handleScroll);
        window.removeEventListener('resize', this.handleResize);
    }
});
</script>

<script src="https://wondrouswisdomcard.gitee.io/js/journal.js"></script>
    </body>
</html>
